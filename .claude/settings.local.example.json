{
  // ╔══════════════════════════════════════════════════════════════════╗
  // ║  MEGA BRAIN - Claude Code Permissions Template                  ║
  // ║  Copy this file to settings.local.json to activate:             ║
  // ║    cp .claude/settings.local.example.json .claude/settings.local.json
  // ║                                                                  ║
  // ║  settings.local.json is gitignored — safe for local overrides   ║
  // ╚══════════════════════════════════════════════════════════════════╝

  "permissions": {
    "allow": [

      // ── FILE SYSTEM (full access to project files) ──────────────
      // Claude needs read/write/edit to work with your codebase.
      // Scoped to project directory only.
      "Read(**/*)",
      "Write(**/*)",
      "Edit(**/*)",
      "Glob",
      "Grep",
      "WebFetch",
      "WebSearch",
      "Task",
      "NotebookEdit",
      "Skill(*)",

      // ── GIT (safe operations — no push, no force) ──────────────
      // All read-only + staging commands are auto-approved.
      // Push is in deny list — use PR workflow instead.
      "Bash(git status:*)",
      "Bash(git diff:*)",
      "Bash(git log:*)",
      "Bash(git branch:*)",
      "Bash(git checkout:*)",
      "Bash(git pull:*)",
      "Bash(git fetch:*)",
      "Bash(git merge:*)",
      "Bash(git stash:*)",
      "Bash(git show:*)",
      "Bash(git rev-parse:*)",
      "Bash(git remote:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git rebase:*)",
      "Bash(git cherry-pick:*)",
      "Bash(git tag:*)",

      // ── PACKAGE MANAGERS (install, test, run — no publish) ──────
      // publish is in deny list to prevent accidental releases.
      "Bash(npm run:*)",
      "Bash(npm test:*)",
      "Bash(npm install:*)",
      "Bash(npm ci:*)",
      "Bash(npm ls:*)",
      "Bash(npm outdated:*)",
      "Bash(npm view:*)",
      "Bash(npx:*)",

      // ── SCRIPTING RUNTIMES ──────────────────────────────────────
      // Required for hooks (Python) and CLI tools (Node).
      "Bash(node:*)",
      "Bash(python3:*)",
      "Bash(python:*)",
      "Bash(pip:*)",
      "Bash(pip3:*)",
      "Bash(bun:*)",

      // ── GITHUB CLI ──────────────────────────────────────────────
      // Used for PR creation, issue management, repo operations.
      "Bash(gh:*)",

      // ── CLI UTILITIES (standard Unix tools) ─────────────────────
      // Common shell utilities for file inspection and manipulation.
      "Bash(cat:*)",
      "Bash(head:*)",
      "Bash(tail:*)",
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(wc:*)",
      "Bash(sort:*)",
      "Bash(uniq:*)",
      "Bash(diff:*)",
      "Bash(echo:*)",
      "Bash(printf:*)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "Bash(mv:*)",
      "Bash(touch:*)",
      "Bash(pwd:*)",
      "Bash(which:*)",
      "Bash(env:*)",
      "Bash(date:*)",
      "Bash(jq:*)",
      "Bash(sed:*)",
      "Bash(awk:*)",
      "Bash(grep:*)",
      "Bash(rg:*)",
      "Bash(cd:*)",
      "Bash(test:*)",
      "Bash([:*)",

      // ── MCP INTEGRATIONS (optional — remove if not using) ───────
      // Browser automation for testing and scraping.
      "mcp__browser__puppeteer_navigate",
      "mcp__browser__puppeteer_click",
      "mcp__browser__puppeteer_screenshot",
      "mcp__browser__puppeteer_fill",
      "mcp__browser__puppeteer_evaluate",
      "mcp__playwright__browser_fill_form",
      "mcp__playwright__browser_snapshot",
      "mcp__playwright__browser_type",
      "mcp__playwright__browser_click",
      "mcp__playwright__browser_navigate",
      "mcp__playwright__browser_wait_for",
      "mcp__playwright__browser_handle_dialog",
      "mcp__playwright__browser_network_requests",
      "mcp__playwright__browser_evaluate",
      "mcp__playwright__browser_press_key",
      "mcp__playwright__browser_console_messages",
      "mcp__playwright__browser_close",
      "mcp__playwright__browser_resize",
      "mcp__playwright__browser_file_upload",
      "mcp__playwright__browser_install",
      "mcp__playwright__browser_navigate_back",
      "mcp__playwright__browser_run_code",
      "mcp__playwright__browser_take_screenshot",
      "mcp__playwright__browser_drag",
      "mcp__playwright__browser_hover",
      "mcp__playwright__browser_select_option",
      "mcp__playwright__browser_tabs",
      // IDE integration
      "mcp__ide__getDiagnostics",
      "mcp__ide__executeCode",
      // Search and documentation
      "mcp__exa__web_search_exa",
      "mcp__exa__company_research_exa",
      "mcp__exa__get_code_context_exa",
      "mcp__context7__resolve-library-id",
      "mcp__context7__query-docs"
    ],

    "deny": [

      // ── DESTRUCTIVE COMMANDS ────────────────────────────────────
      // Prevents accidental deletion of files or system damage.
      "Bash(rm -rf *)",       // recursive force delete
      "Bash(rm:-rf *)",       // alternate syntax
      "Bash(sudo *)",         // privilege escalation
      "Bash(sudo:*)",         // alternate syntax
      "Bash(mkfs:*)",         // filesystem format
      "Bash(dd if=/dev/zero:*)", // disk wipe
      "Bash(chmod 777 *)",    // world-writable permissions
      "Bash(chmod -R 777 *)", // recursive world-writable

      // ── NETWORK DOWNLOADS (supply chain protection) ─────────────
      // Blocks curl/wget to prevent downloading untrusted code.
      // If you need these, run them manually outside Claude.
      "Bash(curl:*)",
      "Bash(wget:*)",

      // ── GIT PUSH (use PR workflow) ──────────────────────────────
      // All pushes require explicit human action.
      // Create PRs via `gh pr create` (allowed above).
      "Bash(git push *)",
      "Bash(git push)",
      "Bash(git push --force *)",  // NEVER auto-force-push
      "Bash(git push --force)",
      "Bash(git reset --hard *)",  // prevents losing uncommitted work

      // ── PACKAGE PUBLISHING ──────────────────────────────────────
      // Prevents accidental publication to npm registry.
      "Bash(npm publish *)",
      "Bash(npm publish)",

      // ── SECRETS PROTECTION ──────────────────────────────────────
      // Blocks read/write/edit of .env files and SSH keys.
      // Claude should never access credentials directly.
      "Read(*.env)",
      "Write(*.env)",
      "Edit(*.env)",
      "Read(*/.env)",
      "Write(*/.env)",
      "Edit(*/.env)",
      "Read(~/.ssh/*)",
      "Write(~/.ssh/*)",
      "Edit(~/.ssh/*)"
    ]
  }
}
